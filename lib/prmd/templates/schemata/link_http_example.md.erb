```http
  <%-
    data = nil
    path = path.gsub(/{([^}]*)}/) {|match| '$' + match.gsub(/[{}]/, '').upcase}
    get_params = []

    if link.has_key?('schema')
      data = schema.schema_example(link['schema'])

      if link['method'].upcase == 'GET' && !data.nil?
        get_params << Prmd::UrlGenerator.new({schema: schema, link: link, options: options}).url_params
      end
    end
    # if link['method'].upcase != 'GET'
    #   options = options.dup
    #   options[:http_header] = { 'Content-Type' => options[:content_type] }.merge(options[:http_header])
    # end
  %>
<%- if link['method'].upcase != 'GET' %>
<%= link['method'] %> <%= schema.href %><%= path -%> HTTP/<%= options[:http_version] %>
<%- options[:http_header].each do |key, value| %>
<%= key %>: <%= value %>
<%- end %>
<% if link.has_key?('encType') %>
Content-Type: <%= link['encType'] %>
<%- end %>

<%- if !data.nil? %>
<%= JSON.pretty_generate(data) %>
<%- end %>
<%- else %>
GET <%= schema.href %><%= path -%> HTTP/<%= options[:http_version] %>
<%- end %>
```
